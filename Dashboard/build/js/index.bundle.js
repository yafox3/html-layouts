!function(){var t={292:function(){const t=Array.from(document.querySelectorAll(".project-card"));t.forEach((e=>{e.addEventListener("click",(function(){t.forEach((t=>t.classList.remove("active"))),this.classList.add("active");const e=document.getElementById("project-type-info");e.querySelector(".project-type-info__title").innerText=this.dataset.title,e.querySelector(".project-type-info__text").innerText=this.dataset.text}))}))},402:function(){Array.from(document.querySelectorAll(".widget")).forEach((t=>{t.addEventListener("click",(e=>{e.target.classList.contains("widget__hide-trigger")&&t.classList.toggle("hidden")}))}))}},e={};function r(o){var n=e[o];if(void 0!==n)return n.exports;var a=e[o]={exports:{}};return t[o](a,a.exports,r),a.exports}!function(){"use strict";class t{constructor(t){this.data=t}header(){const t=document.querySelector(".header");t.querySelector(".account__name").textContent=this.data.employer.user_name,t.querySelector(".account__avatar").querySelector("img").src=this.data.employer.link_photo,t.querySelector(".account__link-leave").href="https://paymall.pw/",t.querySelector(".header__submenu-news").innerHTML=this.data.news.map((t=>`<li><a href="${t.todo}">${t.text}</a></li>`)).join(""),t.querySelector(".header__submenu-alert").innerHTML=this.data.alert.map((t=>`<li><a href="#">${t.text_alert}</a></li>`)).join("")}addWidgetBtn(){const t=document.querySelector(".widgets__add");let e="";for(const t in this.data.view.menu.button)e+=this.data.view.menu.button[t].map((t=>`<li class="widgets__variant-add">${t.name}</li>`)).join("");t.querySelector(".widgets__variants-add").innerHTML=e}aside(){const t=document.querySelector(".aside").querySelector(".accordion");t.innerHTML="";for(const e in this.data.view.menu.left){const r=this.data.view.menu.left[e][0],o=`\n\t\t\t\t<div class="accordion__item">\n\t\t\t\t\t<a href="#" class="accordion__item-trigger">\n\t\t\t\t\t\t<div class="accordion__item-title">\n\t\t\t\t\t\t\t${r.icon}\n\t\t\t\t\t\t\t<p>${r.name}</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<svg width="18" height="19" viewBox="0 0 18 19" fill="none" xmlns="http://www.w3.org/2000/svg">\n\t\t\t\t\t\t\t<path fill-rule="evenodd" clip-rule="evenodd"\n\t\t\t\t\t\t\t\td="M3.41438 8.03151C3.67313 7.70806 4.1451 7.65562 4.46855 7.91438L9.00003 11.5396L13.5315 7.91438C13.855 7.65562 14.3269 7.70806 14.5857 8.03151C14.8444 8.35495 14.792 8.82692 14.4685 9.08568L9.46855 13.0857C9.19463 13.3048 8.80542 13.3048 8.53151 13.0857L3.53151 9.08568C3.20806 8.82692 3.15562 8.35495 3.41438 8.03151Z"\n\t\t\t\t\t\t\t\tfill="black" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<div class="accordion__item-body">\n\t\t\t\t\t\t<ul class="accordion__item-list">\n\t\t\t\t\t\t\t${this.data.view.menu.left[e].map((t=>`<li class="accordion__item-link"><a href="#">${t.name}</a></li>`)).join("")}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t`;t.insertAdjacentHTML("beforeend",o)}Array.from(t.querySelectorAll(".accordion__item-trigger")).forEach((t=>t.addEventListener("click",(()=>{t.parentElement.classList.toggle("active")}))))}widgets(){const t=document.querySelector(".widgets");(()=>{const e=t.querySelector("#widget-draft");e.querySelector("#status-in-dev").textContent=this.data.group.draft.In_developing+" блогов",e.querySelector("#status-pending").textContent=this.data.group.draft.Waiting_for_confirmation+" блогов",e.querySelector("#status-done").textContent=this.data.group.draft.Archive+" блогов"})(),(()=>{const e=t.querySelector("#widget-author").querySelector(".person");e.querySelector("img").src=this.data.group.author.icon||"img/michael.jpg",e.querySelector(".person__title").textContent=this.data.group.author.name,e.querySelector(".person__description").textContent=this.data.group.author.template})(),(()=>{const e=t.querySelector("#widget-worker").querySelector(".person");e.querySelector("img").src=this.data.group.worker.icon||"img/michael.jpg",e.querySelector(".person__title").textContent=this.data.group.worker.name,e.querySelector(".person__description").textContent=this.data.group.worker.template})(),(()=>{const e=t.querySelector("#widget-subscriber").querySelector(".person");e.querySelector("img").src=this.data.group.subscriber.icon||"img/michael.jpg",e.querySelector(".person__title").textContent=this.data.group.subscriber.name,e.querySelector(".person__description").textContent=this.data.group.subscriber.template})()}}class e{static async loginFirstTime(){const t=window.location.hash.slice(1),r={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"entry",data:JSON.stringify({secret_token:t})})};return await fetch("https://new.dcpay.ru:8443/api/register.php",r).then((t=>t.json())).then((({data:t})=>(e.setTokenToLocalStorage(t.employer.access_token),t))).catch((()=>console.log("! ! ! Redirected ! ! !")))}static async login(){const t=e.getTokenFromLocalStorage(),r={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:new URLSearchParams({action:"entry",data:JSON.stringify({access_token:t})})};return await fetch("https://new.dcpay.ru:8443/api/register.php",r).then((t=>t.json())).then((({data:t})=>t)).catch((()=>console.log("! ! ! Redirected ! ! !")))}static setTokenToLocalStorage(t){t&&localStorage.setItem("access_token",t)}static getTokenFromLocalStorage(){return localStorage.getItem("access_token")??""}}document.addEventListener("DOMContentLoaded",(async()=>{let r=null;if(r=window.location.hash.slice(1)?await e.loginFirstTime():await e.login(),!r)return;const o=new t(r);o.header(),o.aside(),o.addWidgetBtn(),o.widgets()})),r(292),r(402)}()}();